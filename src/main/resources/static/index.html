<!DOCTYPE html>
<html lang="en">
<head>
    <title>弹幕姬主页</title>
    <meta name="referrer" content="no-referrer"/>
    <style>
.touxiang img {
    width: 100px;
    height: 100px;
    background-size: cover;
    border-radius: 5%;
    margin-left: 45px;
}

.fengmian img{
    width: 160px;
    height: 90px;
    background-size: cover;
    border-radius: 5%;
    margin-left: 45px;
}
.row{
    display: inline-flex;
    margin-top: 60px;
}

.row1{
    margin-left: 20px;
}
.row2{
    padding-left: 40px;
    margin-left: 40px
}

.testswitch {
    position: relative;
    float: left;
    width: 90px;
    margin: 0;
    -webkit-user-select:none;
    -moz-user-select:none;
    -ms-user-select: none;
}

.testswitch-checkbox {
    display: none;
}

.testswitch-label {
    display: block;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid #999999;
    border-radius: 20px;
}

.testswitch-inner {
    display: block;
    width: 200%;
    margin-left: -100%;
    transition: margin 0.3s ease-in 0s;
}

.testswitch-inner::before, .testswitch-inner::after {
    display: block;
    float: right;
    width: 50%;
    height: 30px;
    padding: 0;
    line-height: 30px;
    font-size: 14px;
    color: white;
    font-family:
    Trebuchet, Arial, sans-serif;
    font-weight: bold;
    box-sizing: border-box;
}

.testswitch-inner::after {
    content: attr(data-on);
    padding-left: 10px;
    background-color: #00e500;
    color: #FFFFFF;
}

.testswitch-inner::before {
    content: attr(data-off);
    padding-right: 10px;
    background-color: #EEEEEE;
    color: #999999;
    text-align: right;
}

.mySwitchName{
    float: right;
}

.mySwitchName span{
    font-size: 24px;
}

.mySwitch{
    position: absolute;
    float: right;
    display: inline-block;
    margin-left: 10px;
}

.trSwitch{
    position: absolute;
    float: right;
    display: inline-block;
    margin-left: 10px;
    margin-top: -15px;
}

.trSwitchRight{
    text-align:right
}

.testswitch-switch {
    position: absolute;
    display: block;
    width: 22px;
    height: 22px;
    margin: 4px;
    background: #FFFFFF;
    top: 0;
    bottom: 0;
    right: 56px;
    border: 2px solid #999999;
    border-radius: 20px;
    transition: all 0.3s ease-in 0s;
}

.testswitch-checkbox:checked + .testswitch-label .testswitch-inner {
    margin-left: 0;
}

.testswitch-checkbox:checked + .testswitch-label .testswitch-switch {
    right: 0px;
    }

.currentColor {
    border: 1px solid;
    height: 25px;
    width: 100px;
    cursor: pointer;
    cursor: hand;
    background-color: #FFFFFF;
}

.table_tr_control {
    width:400px
}


.face {
    width: 40px;
    float:left
}

.now1 {
    height: 125px;
    width: 125px;
}

.d3 {
    height: 100px;
    width: 100px;
}

.face_common {
    position: relative;
    width: 130px;
    height: 130px;
    top: -106px;
    left: -15px;
}

.userFace {
    position: relative;
    border-radius: 75px;
    width: 100px;
    height: 100px;
    top: 20px;
}
.face_top {
    position: relative;
    width: 150px;
    height: 129px;
    top: -96px;
    left: -17px;
}
.tr_demo {
    height: 400px;
}

.danmu_name_border {
    margin-top: 0px;
    background-size:100% 100%;
    width: fit-content;
    height: 50px;
    background-image: url(../../danmuCss/top/观众用户名称.png);
    background-repeat: no-repeat;
    padding-top: 5px;
    padding-left: 30px;
    padding-right: 30px;
    padding-bottom: 5px;
    font-family: myFont;
    font-weight:bold;
    color: #D2B48C;
    font-size: 30px;
}

.danmu_wenzi_border1 {
    background-image: url(../../danmuCss/fans/底板-粉丝.png);
    background-position: center;
    background-size: auto;
    background-repeat: no-repeat;
    padding-left:20px;
    padding-right:20px;
    border-radius: 50px;
}

.danmu_wenzi_border {
    background-image: url(../../danmuCss/top/底板-舰长用.png);
    background-position: center;
    background-size: auto;
    background-repeat: no-repeat;
    padding-left:20px;
    padding-right:20px;
    border-radius: 50px;
}
.danmu_xingxing{
    width: 84px;
    height: 44px;
    margin-top: -50px;
    float: right;
}

.danmu_picture{
    width: auto;
    display: flex;
}

.danmu_picture>img{
    padding-bottom:20px;
    padding-top:20px;
    padding-left:20px;
    padding-right:20px;
    width: 100px;
    height: 100px
}

.content {
    width: 700px;
    float:right;
    margin-left: 100px;
}

.danmu_wenzi {
    text-align: left;
    padding-bottom:20px;
    padding-top:20px;
    padding-left:20px;
    padding-right:20px;


    font-family: myFont;
    font-size: 32px;
    font-weight: bold;

}

.danmu_wenzi_border1 {
    background-image: url(../../danmuCss/fans/底板-粉丝.png);
    background-position: center;
    background-size: auto;
    background-repeat: no-repeat;
    padding-left:20px;
    padding-right:20px;
    border-radius: 50px;
}




    </style>
</head>
<body>
<br>
<div>
    <input type="text" id='room' style='width:500px' placeholder="房间号">
    <input type="button" id="set" value="连接房间"/>
</div>
<br>
<div>
    <span>显示弹幕: </span>
    <input type="text" id='url1' style='width:500px' placeholder="链接">
    <input type="button" id="url1_button" value="进入"/>
</div>

<div id="UserInfo">
</div>
<br>

<table>
    <tr>
        <td>
            <div class="mySwitchName">
                <span>屏蔽天选</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch1" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch1">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>银瓜子礼物</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch2" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch2">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>系统表情</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch3" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch3">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>进房提示</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch4" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch4">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>关注提示</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch5" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch5">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>分享提示</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch6" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch6">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>手机双击点赞</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch7" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch7">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>

    <tr>
        <td>
            <div class="mySwitchName">
                <span>手机双击点赞统计</span>
            </div>
        </td>

        <td>
            <div class="trSwitch">
                <div class="testswitch">
                    <input class="testswitch-checkbox" id="onoffswitch8" type="checkbox"/>
                    <label class="testswitch-label" for="onoffswitch8">
                        <span class="testswitch-inner" data-on="ON" data-off="OFF"></span>
                        <span class="testswitch-switch"></span>
                    </label>
                </div>
            </div>
        </td>
    </tr>
</table>


<table id="setup_table">
    <tr>
        <td>最小电池礼物价值(元)：</td>
        <td><input type="text" id='minGoldPrice' class="table_tr_control"
                   placeholder="电池最小礼物价值(元)"></td>
    </tr>

    <tr>
        <td>弹幕体高度：</td>
        <td><input type="number" id='danmuHeight' class="table_tr_control" placeholder="弹幕体高度"></td>
    </tr>

    <tr>
        <td>弹幕字体大小：</td>
        <td><input type="number" id='danmuFont' class="table_tr_control" placeholder="弹幕字体大小"></td>
    </tr>

    <tr>
        <td>弹幕颜色：</td>
        <td><input type="text" id='danmuColor' class="table_tr_control" placeholder="弹幕颜色"></td>
        <td>
            <div class="currentColor" id="danmuCurrentColor"></div>
        </td>
    </tr>

    <tr>
        <td>用户名字体大小：</td>
        <td><input type="number" id='userNameFont' class="table_tr_control" placeholder="用户名字体大小">
        </td>
    </tr>

    <tr>
        <td>用户名颜色：</td>
        <td><input type="text" id='userNameColor' class="table_tr_control" placeholder="用户名颜色">
        </td>
        <td>
            <div class="currentColor" id="userNameCurrentColor"></div>
        </td>
    </tr>

    <tr>
        <td>用户头像 宽度：</td>
        <td><input type="number" id='user_width' class="table_tr_control"
                   placeholder="用户头像 宽度"></td>
    </tr>

    <tr>
        <td>用户头像 高度：</td>
        <td><input type="number" id='user_height' class="table_tr_control"
                   placeholder="用户头像 高度"></td>
    </tr>

    <tr>
        <td>用户头像 圆角边框弧度：</td>
        <td><input type="number" id='user_border_radius' class="table_tr_control"
                   placeholder="用户头像 圆角边框弧度"></td>
    </tr>

    <tr>
        <td>用户头像 垂直偏移量：</td>
        <td><input type="number" id='user_top' class="table_tr_control"
                   placeholder="用户头像 垂直偏移量"></td>
    </tr>

    <tr>
        <td>用户头像 水平偏移量：</td>
        <td><input type="number" id='user_left' class="table_tr_control"
                   placeholder="用户头像 水平偏移量"></td>
    </tr>

    <tr>
        <td>普通用户 头像框 背景图片：</td>
        <td><input type="text" id='face_backgroundUrl' class="table_tr_control"
                   placeholder="普通用户 头像框 背景图片"></td>
    </tr>

    <tr>
        <td>普通用户 头像框 图片宽度：</td>
        <td><input type="number" id='face_common_Width' class="table_tr_control"
                   placeholder="普通用户 头像框 图片宽度"></td>
    </tr>

    <tr>
        <td>普通用户 头像框 图片高度：</td>
        <td><input type="number" id='face_common_Height' class="table_tr_control"
                   placeholder="普通用户 头像框 图片高度"></td>
    </tr>

    <tr>
        <td>普通用户 头像框 垂直偏移量：</td>
        <td><input type="number" id='face_common_top' class="table_tr_control"
                   placeholder="普通用户 头像框 垂直偏移量"></td>
    </tr>

    <tr>
        <td>普通用户 头像框 水平偏移量：</td>
        <td><input type="number" id='face_common_left' class="table_tr_control"
                   placeholder="普通用户 头像框 水平偏移量"></td>
    </tr>

    <tr>
        <td>舰队用户 头像框 背景图片：</td>
        <td><input type="text" id='face_Top_backgroundUrl' class="table_tr_control"
                   placeholder="舰队用户头像框 背景图片"></td>
    </tr>

    <tr>
        <td>舰队用户 头像框 宽度：</td>
        <td><input type="number" id='face_top_Width' class="table_tr_control"
                   placeholder="舰队用户头像框 宽度"></td>
    </tr>

    <tr>
        <td>舰队用户 头像框 高度：</td>
        <td><input type="number" id='face_top_Height' class="table_tr_control"
                   placeholder="舰队用户头像框 高度"></td>
    </tr>

    <tr>
        <td>舰队用户 头像框 垂直偏移量：</td>
        <td><input type="number" id='face_top_top' class="table_tr_control"
                   placeholder="舰队用户头像框 垂直偏移量"></td>
    </tr>

    <tr>
        <td>舰队用户 头像框 水平偏移量：</td>
        <td><input type="number" id='face_top_left' class="table_tr_control"
                   placeholder="舰队用户头像框 水平偏移量"></td>
    </tr>

    <tr>
        <td>演示：</td>
        <td>
            <div class="tr_demo">
                <div class="face">
                    <div class="now1">
                        <div class="d3">
                            <img class="userFace"
                                 src="https://i0.hdslb.com/bfs/face/8aa83c6494e43641a8c16b86e2774f335bcad8d0.jpg"
                                 alt="">

                            <img class="face_top" src="https://s1.ax1x.com/2023/05/26/p9qEDud.png" alt=""></div>
                    </div>
                </div>

                <div class="content">
                    <div class="danmu_name_border"
                         style="font-size: 30px; color: rgb(210, 180, 140); background-image: url(&quot;https://s1.ax1x.com/2023/05/14/p9cHAhT.png&quot;);">
                        舰队用户
                    </div>
                    <div class="danmu_wenzi_border"
                         style="background-image: url(&quot;https://s1.ax1x.com/2023/05/14/p9cbJI0.png&quot;);">
                        <div class="danmu_picture"><img class="danmu_picture_img"
                                                        src="http://i0.hdslb.com/bfs/live/120fad3a0241e6fd3a327054f7f1bee9f9460dc4.png ">
                        </div>
                        <div><img class="danmu_xingxing" src="https://s1.ax1x.com/2023/05/14/p9cbNGT.png"></div>
                    </div>
                </div>


                <div class="now1">
                    <div class="d3"><img class="userFace"
                                         src="https://i0.hdslb.com/bfs/face/8aa83c6494e43641a8c16b86e2774f335bcad8d0.jpg"
                                         alt="">
                    <img class="face_common" src="https://s1.ax1x.com/2023/05/14/p9cTod0.png" alt=""></div>
            </div>

            <div class="content">
                <div class="danmu_name_border"
                     style="font-size: 30px; color: rgb(210, 180, 140); background-image: url(&quot;https://s1.ax1x.com/2023/05/14/p9cHAhT.png&quot;);">
                    普通用户
                </div>
                <div class=" danmu_wenzi_border1"
                     style="background-image: url(&quot;https://s1.ax1x.com/2023/05/14/p9cHdHI.png&quot;);">
                    <div class="danmu_wenzi"><span class="danmu_wenzi1"
                                                   style="font-size: 32px; color: rgb(255, 96, 175);">早上好  </span>
                    </div>
                    <div><img class="danmu_xingxing" src="https://s1.ax1x.com/2023/05/14/p9cbNGT.png"></div>
                </div>
            </div>

            </div>
        </td>
    </tr>

    <tr>
        <td>用户名背景图片：</td>
        <td><input type="text" id='username_backgroundUrl' class="table_tr_control"
                   placeholder="用户名背景图片"></td>
    </tr>

    <tr>
        <td>观众弹幕 背景图片：</td>
        <td><input type="text" id='commonDanmu_backgroundUrl' class="table_tr_control"
                   placeholder="弹幕 背景图片"></td>
    </tr>

    <tr>
        <td>舰队弹幕 背景图片：</td>
        <td><input type="text" id='fleetDanmu_backgroundUrl' class="table_tr_control"
                   placeholder="弹幕 背景图片"></td>
    </tr>

    <tr>
        <td>弹幕右下角装饰 背景图片：</td>
        <td><input type="text" id='pendant_backgroundUrl' class="table_tr_control"
                   placeholder="弹幕右下角装饰 背景图片"></td>
    </tr>
</table>

<div>
    <input type="button" id="sendSet" value="保存配置"/>
    <!--    <input type="button" id="import" value="导入配置"/>-->
    <!--    <input type="button" id="export" value="导出配置"/>-->
</div>

<br>
<div>
    <input type="button" id="startTestSet" value="开启测试"/>
</div>
<div>
    <input type="button" id="closeTestSet" value="关闭测试"/>
</div>


<!--<div>-->
<!--    &lt;!&ndash;    自定义表情  左侧显示名字 右侧显示图片 &ndash;&gt;-->
<!--</div>-->

<!--<div>-->
<!--    &lt;!&ndash;    系统交易  左侧显示名字 右侧显示图片 &ndash;&gt;-->
<!--    <table border="1">-->
<!--        <tr>-->
<!--            <th>[dog]</th>-->
<!--            <th><img src="http://i0.hdslb.com/bfs/live/4428c84e694fbf4e0ef6c06e958d9352c3582740.png"></th>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>January</td>-->
<!--            <td>-->
<!--                <img src="SystemEmoji/doge2.png">-->
<!--            </td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>February</td>-->
<!--            <td>$80</td>-->
<!--        </tr>-->
<!--    </table>-->
<!--</div>-->

<!--<div>-->
<!--    礼物显示黑名单-->
<!--</div>-->

<!--<div>-->
<!--    礼物叠加显示  1秒内相同用户投喂的礼物会叠加显示-->
<!--</div>-->


<!--<marquee width="100%" behavior="scroll" bgcolor="pink" style="color: #fff;">-->
<!--    中秋节，又称祭月节、月光诞、月夕、秋节、仲秋节、拜月节、月娘节、月亮节、团圆节等，是中国民间的传统节日。-->
<!--</marquee>-->

</body>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script language="javascript" type="text/javascript">
			function formatDate(now) {
				var year = now.getFullYear();
				var month = now.getMonth() + 1;
				var date = now.getDate();
				var hour = now.getHours();
				var minute = now.getMinutes();
				var second = now.getSeconds();
				return year + "-" + (month = month < 10 ? ("0" + month) : month) + "-" + (date = date < 10 ? ("0" + date) : date) +
					" " + (hour = hour < 10 ? ("0" + hour) : hour) + ":" + (minute = minute < 10 ? ("0" + minute) : minute) + ":" + (
						second = second < 10 ? ("0" + second) : second);
			}
			var output;
			var websocket;

			function init() {
				output = document.getElementById("output");
				testWebSocket();
			}

			function addsocket() {
				var wsaddr = $("#wsaddr").val();
				if (wsaddr == '') {
					alert("请填写websocket的地址");
					return false;
				}
				StartWebSocket(wsaddr);
			}

			function closesocket() {
				websocket.close();
			}

			function StartWebSocket(wsUri) {
				websocket = new WebSocket(wsUri);
				websocket.onopen = function(evt) {
					onOpen(evt)
				};
				websocket.onclose = function(evt) {
					onClose(evt)
				};
				websocket.onmessage = function(evt) {
					onMessage(evt)
				};
				websocket.onerror = function(evt) {
					onError(evt)
				};
			}

			function onOpen(evt) {
				writeToScreen("<span style='color:red'>连接成功，现在你可以发送信息啦！！！</span>");
			}

			function onClose(evt) {
				writeToScreen("<span style='color:red'>websocket连接已断开!!!</span>");
				websocket.close();
			}

			function onMessage(evt) {
				writeToScreen('<span style="color:blue">服务端回应&nbsp;' + formatDate(new Date()) + '</span><br/><span class="bubble">' +
					evt.data + '</span>');
			}

			function onError(evt) {
				writeToScreen('<span style="color: red;">发生错误:</span> ' + evt.data);
			}

			function doSend() {
				var message = $("#message").val();
				if (message == '') {
					alert("请先填写发送信息");
					$("#message").focus();
					return false;
				}
				if (typeof websocket === "undefined") {
					alert("websocket还没有连接，或者连接失败，请检测");
					return false;
				}
				if (websocket.readyState == 3) {
					alert("websocket已经关闭，请重新连接");
					return false;
				}
				console.log(websocket);
				$("#message").val('');
				writeToScreen('<span style="color:green">你发送的信息&nbsp;' + formatDate(new Date()) + '</span><br/>' + message);
				websocket.send(message);
			}

			function writeToScreen(message) {
				var div = "<div class='newmessage'>" + message + "</div>";
				var d = $("#output");
				var d = d[0];
<!--				var doScroll = d.scrollTop == d.scrollHeight - d.clientHeight;-->
				$("#output").append(div);
<!--				if (doScroll) {-->
<!--					d.scrollTop = d.scrollHeight - d.clientHeight;-->
<!--				}-->
			}

			function en(event) {
				var evt = evt ? evt : (window.event ? window.event : null);
				if (evt.keyCode == 13) {
					doSend()
				}
			}

<!--save-->
$("#set").click(function(){
var str1 = $('input').val();
            $.ajax({
            url: '../connectRoom',
            data: {
            roomId:  $("#room").val()
            },
            async: false,
            cache: false,
            type: 'POST',
            dataType: 'json',
            success: function (data) {
                   $.ajax({
                   url: '../getUserInfo',
                   data: {
                   roomId:  $("#room").val()
                   },
            async: false,
            cache: false,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
<!--                console.log('getSet');-->
<!--                console.log(data.data);-->
                setUserInfo(data.data);
             }
        })
        }
    });
});
<!--页面加载后执行-->
window.onload = function () {
    getSet();

    var strUrl1 = $(location).attr('href') + 'danmu.html';
    $("#url1").val(strUrl1)

    var d = $("#output");
    for (var i = 1; i <= 4; i++) {
        writeToScreen("");
    }
}

function  getSet() {
$.ajax({
            url: '../getSet',
            data: {
            },
            async: false,
            cache: false,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
<!--                console.log('getSet')-->
<!--                console.log(data)-->
                var roomid = data.data.roomid
                $("#room").val(roomid)
                if(roomid === '' || roomid === 0 ) {
                    console.log('房间号为空');
                } else {
                    $("#set").click();
                }
                var isAnchorLot = data.data.isAnchorLot;
                var isSilverGift = data.data.isSilverGift;
                var isSystemEmoji = data.data.isSystemEmoji;
<!--                var isUserEmoji = data.data.isUserEmoji;-->

                var isEnterMessage = data.data.isEnterMessage;
                var isAttentionMessage = data.data.isAttentionMessage;
                var isShareMessage = data.data.isShareMessage;
                var isLikeMessage = data.data.isLikeMessage;
                var isLikeNumMessage = data.data.isLikeNumMessage;
                var minGoldPrice = data.data.minGoldPrice;
                var danmuHeight = data.data.danmuHeight;
                var danmuFont = data.data.danmuFont;
                var danmuColor = data.data.danmuColor;
                var userNameFont = data.data.userNameFont;
                var userNameColor = data.data.userNameColor;
                var face_backgroundUrl = data.data.face_backgroundUrl;
                var username_backgroundUrl = data.data.username_backgroundUrl;
                var commonDanmu_backgroundUrl = data.data.commonDanmu_backgroundUrl;
                var fleetDanmu_backgroundUrl = data.data.fleetDanmu_backgroundUrl;
                var pendant_backgroundUrl = data.data.pendant_backgroundUrl;
                var face_Top_backgroundUrl = data.data.face_Top_backgroundUrl;
                var face_top_Width = data.data.face_top_Width;
                var face_top_Height = data.data.face_top_Height;
                var face_top_top = data.data.face_top_top;
                var face_top_left = data.data.face_top_left;
                var face_common_Width = data.data.face_common_Width;
                var face_common_Height = data.data.face_common_Height;
                var face_common_top = data.data.face_common_top;
                var face_common_left = data.data.face_common_left;
                var user_width = data.data.user_width;
                var user_height = data.data.user_height;
                var user_border_radius = data.data.user_border_radius;
                var user_top = data.data.user_top;
                var user_left = data.data.user_left;

                $("#onoffswitch1").prop("checked",isAnchorLot);
                $("#onoffswitch2").prop("checked",isSilverGift);
                $("#onoffswitch3").prop("checked",isSystemEmoji);
                $("#onoffswitch4").prop("checked",isEnterMessage);
                $("#onoffswitch5").prop("checked",isAttentionMessage);
                $("#onoffswitch6").prop("checked",isShareMessage);
                $("#onoffswitch7").prop("checked",isLikeMessage);
                $("#onoffswitch8").prop("checked",isLikeNumMessage);
                $("#minGoldPrice").val(minGoldPrice);
                $("#danmuHeight").val(danmuHeight);
                $("#danmuFont").val(danmuFont);
                $("#danmuColor").val(danmuColor);

                $("#danmuCurrentColor").css({
                    "background": $("#danmuColor").val()
                });

                $("#userNameFont").val(userNameFont);
                $("#userNameColor").val(userNameColor);

                $("#userNameCurrentColor").css({
                    "background": $("#userNameColor").val()
                });

                $("#face_backgroundUrl").val(face_backgroundUrl);
                $("#username_backgroundUrl").val(username_backgroundUrl);
                $("#commonDanmu_backgroundUrl").val(commonDanmu_backgroundUrl);
                $("#fleetDanmu_backgroundUrl").val(fleetDanmu_backgroundUrl);
                $("#pendant_backgroundUrl").val(pendant_backgroundUrl);
                $("#face_Top_backgroundUrl").val(face_Top_backgroundUrl);
                $("#face_top_Width").val(face_top_Width);
                $("#face_top_Height").val(face_top_Height);
                $("#face_top_top").val(face_top_top);
                $("#face_top_left").val(face_top_left);
                $("#face_common_Width").val(face_common_Width);
                $("#face_common_Height").val(face_common_Height);
                $("#face_common_top").val(face_common_top);
                $("#face_common_left").val(face_common_left);
                $("#user_width").val(user_width);
                $("#user_height").val(user_height);
                $("#user_border_radius").val(user_border_radius);

                $("#user_top").val(user_top);
                $("#user_left").val(user_left);

                setDemo(data);
             }
        })
}

function setUserInfo(data) {
    $("#UserInfo").empty()
    var uid = data.uid;
    var roomId = data.roomId;
    var div =
    ' <div class="row">' +
            '<div class="touxiang">' +
<!--          '  <img src="https://i1.hdslb.com/bfs/face/8ed6da664167ca07c1660f77f10f938c39c4a8bb.jpg">' +-->
                ' <a href=" https://space.bilibili.com/' + uid +'" target="_blank">' +
<!--                https://live.bilibili.com/3961583-->
                    '  <img src="' + data.face + '   ">' +
                ' </a>' +
        '</div>' +
        '<div class="row1">' +
         '   <div class="row2">' +
           '      主播名称 '+  data.name     +

           ' </div>' +
            '<div class="row2">' +
             '   开播状态 ' + data.liveStatus +
            '</div>' +
            '<div class="row2">' +
             '   直播标题 ' + data.title +
            '</div>' +
        '</div>' +

        '<div class="fengmian">' +
<!--         '   <img src="http://i0.hdslb.com/bfs/live/user_cover/2b2e2c8d72aa785d6b53e6885be097c9619ac1f1.jpg">' +-->
               ' <a href=" https://live.bilibili.com/' + roomId +'" target="_blank">' +
                    '  <img src="' + data.cover + '   ">' +
                ' </a>' +
         '</div>'+
           '</div>'
    $("#UserInfo").append(div);



<!--    设置演示demo的头像-->

<!--userFace-->
    $(".userFace").attr("src", data.face);
}


$("#url1_button").click(function(){
    var newWeb = window.open('_blank');
    newWeb.location= $("#url1").val();
})


$(document).ready(function() {
	$("#onoffswitch3").on('click', function(){
		clickSwitch()
	});

<!--	var clickSwitch = function() {-->
<!--		if ($("#onoffswitch3").is(':checked')) {-->
<!--			console.log("在ON的状态下");-->
<!--		} else {-->
<!--			console.log("在OFF的状态下");-->
<!--		}-->
<!--	};-->
});

$("#startTestSet").click(function(){
            $.ajax({
            url: '../startTestSet',
            data: {
            },
            async: false,
            cache: false,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
            }
            });
});

$("#closeTestSet").click(function(){
            $.ajax({
            url: '../closeTestSet',
            data: {
            },
            async: false,
            cache: false,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
            }
            });
});

<!--保存配置-->
$("#sendSet").click(function(){
            let set = {};
            set.isAnchorLot = $("#onoffswitch1").is(':checked');
            set.isAnchorLot  = $("#onoffswitch1").is(':checked');
            set.isSilverGift = $("#onoffswitch2").is(':checked');
            set.isSystemEmoji = $("#onoffswitch3").is(':checked');
            set.isEnterMessage = $("#onoffswitch4").is(':checked');
            set.isAttentionMessage = $("#onoffswitch5").is(':checked');
            set.isShareMessage = $("#onoffswitch6").is(':checked');
            set.isLikeMessage = $("#onoffswitch7").is(':checked');
            set.isLikeNumMessage = $("#onoffswitch8").is(':checked');
            set.minGoldPrice = $("#minGoldPrice").val();
            set.danmuHeight = $("#danmuHeight").val();
            set.danmuFont = $("#danmuFont").val();
            set.danmuColor = $("#danmuColor").val();
            set.userNameFont = $("#userNameFont").val();
            set.userNameColor = $("#userNameColor").val();
            set.face_backgroundUrl = $("#face_backgroundUrl").val();
            set.username_backgroundUrl = $("#username_backgroundUrl").val();
            set.commonDanmu_backgroundUrl = $("#commonDanmu_backgroundUrl").val();
            set.fleetDanmu_backgroundUrl = $("#fleetDanmu_backgroundUrl").val();
            set.pendant_backgroundUrl = $("#pendant_backgroundUrl").val();
            set.face_Top_backgroundUrl = $("#face_Top_backgroundUrl").val();
            set.face_top_Width = $("#face_top_Width").val();
            set.face_top_Height = $("#face_top_Height").val();
            set.face_top_top = $("#face_top_top").val();
            set.face_top_left = $("#face_top_left").val();
            set.face_common_Width = $("#face_common_Width").val();
            set.face_common_Height = $("#face_common_Height").val();
            set.face_common_top = $("#face_common_top").val();
            set.face_common_left = $("#face_common_left").val();
            set.user_width = $("#user_width").val();
            set.user_height = $("#user_height").val();
            set.user_border_radius = $("#user_border_radius").val();
            set.user_top = $("#user_top").val();
            set.user_left = $("#user_left").val();

            $.ajax({
            url: '../sendSet',
            data: {
                set: JSON.stringify(set)
            },
            async: false,
            cache: false,
            type: 'POST',
            dataType: 'json',
            success: function (data) {
            }
            });
});

$("#userNameColor").change(function(){
    $("#userNameCurrentColor").css({
        "background": $("#userNameColor").val()
    });
});

$("#danmuColor").change(function(){
    $("#danmuCurrentColor").css({
        "background": $("#danmuColor").val()
    });
});

function setDemo(data) {
                var minGoldPrice = data.data.minGoldPrice;
                var danmuHeight = data.data.danmuHeight;
                var danmuFont = data.data.danmuFont;
                var danmuColor = data.data.danmuColor;
                var userNameFont = data.data.userNameFont;
                var userNameColor = data.data.userNameColor;
                var face_backgroundUrl = data.data.face_backgroundUrl;
                var username_backgroundUrl = data.data.username_backgroundUrl;
                var commonDanmu_backgroundUrl = data.data.commonDanmu_backgroundUrl;
                var fleetDanmu_backgroundUrl = data.data.fleetDanmu_backgroundUrl;
                var pendant_backgroundUrl = data.data.pendant_backgroundUrl;
                var face_Top_backgroundUrl = data.data.face_Top_backgroundUrl;
                var face_top_Width = data.data.face_top_Width;
                var face_top_Height = data.data.face_top_Height;
                var face_top_top = data.data.face_top_top;
                var face_top_left = data.data.face_top_left;
                var face_common_Width = data.data.face_common_Width;
                var face_common_Height = data.data.face_common_Height;
                var face_common_top = data.data.face_common_top;
                var face_common_left = data.data.face_common_left;
                var user_width = data.data.user_width;
                var user_height = data.data.user_height;
                var user_border_radius = data.data.user_border_radius;
                var user_top = data.data.user_top;
                var user_left = data.data.user_left;

                 <!--设置用户头像框->
                $(".userFace").css({
                "width": user_width + "px",
                "height": user_height + "px",
                "top": user_top + "px",
                "left": user_left + "px",
                "border-radius": user_border_radius + "px",
                });

                <!--设置普通用户头像框->
                $(".face_common").attr("src", face_backgroundUrl);

                $(".face_common").css({
                "width": face_common_Width + "px",
                "height": face_common_Height + "px",
                "top": face_common_top + "px",
                "left": face_common_left + "px",
                });

                <!--设置舰长用户头像框->
                $(".face_top").attr("src", face_Top_backgroundUrl);

                $(".face_top").css({
                "width": face_top_Width + "px",
                "height": face_top_Height + "px",
                "top": face_top_top + "px",
                "left": face_top_left + "px",
                });

                <!--            设置用户名文字 大小     背景图片-->
                $(".danmu_name_border").css({
                "font-size": userNameFont + "px", "color": userNameColor, "background-image": "url(" +  username_backgroundUrl  +")",
                });

                $(".danmu_wenzi>span").css({
                "font-size": danmuFont + "px", "color": danmuColor
                });

}

<!--$(function(){ -->
<!--    $(".field").change(function(){-->
<!--    $(this).css("background-color","#FFFFCC");-->
<!--    });-->
<!--})-->


$("#danmuColor").change(function(){
    $("#danmuCurrentColor").css({
        "background": $("#danmuColor").val()
    });
});

$("#setup_table td").change(function(){
    var danmuFont = $("#danmuFont").val();
    var danmuColor = $("#danmuColor").val();
    var userNameFont = $("#userNameFont").val();
    var userNameColor = $("#userNameColor").val();
    var face_backgroundUrl = $("#face_backgroundUrl").val();
    var username_backgroundUrl = $("#username_backgroundUrl").val();
    var commonDanmu_backgroundUrl = $("#commonDanmu_backgroundUrl").val();
    var fleetDanmu_backgroundUrl = $("#fleetDanmu_backgroundUrl").val();
    var pendant_backgroundUrl = $("#pendant_backgroundUrl").val();

    var face_Top_backgroundUrl = $("#face_Top_backgroundUrl").val();
    var face_top_Width = $("#face_top_Width").val();
    var face_top_Height = $("#face_top_Height").val();
    var face_top_top = $("#face_top_top").val();
    var face_top_left = $("#face_top_left").val();
    var face_common_Width = $("#face_common_Width").val();
    var face_common_Height = $("#face_common_Height").val();
    var face_common_top = $("#face_common_top").val();
    var face_common_left = $("#face_common_left").val();
    var user_width = $("#user_width").val();
    var user_height = $("#user_height").val();
    var user_border_radius = $("#user_border_radius").val();

     <!--设置用户头像框->
                $(".userFace").css({
                "width": user_width + "px",
                "height": user_height + "px",
                "top": user_top + "px",
                "left": user_left + "px",
                "border-radius": user_border_radius + "px",
                });

                <!--设置普通用户头像框->
                $(".face_common").attr("src", face_backgroundUrl);

                $(".face_common").css({
                "width": face_common_Width + "px",
                "height": face_common_Height + "px",
                "top": face_common_top + "px",
                "left": face_common_left + "px",
                });

                <!--设置舰长用户头像框->
                $(".face_top").attr("src", face_Top_backgroundUrl);

                $(".face_top").css({
                "width": face_top_Width + "px",
                "height": face_top_Height + "px",
                "top": face_top_top + "px",
                "left": face_top_left + "px",
                });

                <!--            设置用户名文字 大小     背景图片-->
                $(".danmu_name_border").css({
                "font-size": userNameFont + "px", "color": userNameColor, "background-image": "url(" +  username_backgroundUrl  +")",
                });

                $(".danmu_wenzi>span").css({
                "font-size": danmuFont + "px", "color": danmuColor
                });
});




</script>
</html>